##########################################################################
-   title: SHOFCO Kibera Baseline Survey Form
    questions:
        -   label: Village
            type: options
            options:
            - Mashimoni
            - Lindi
            - Kianda
            - Kisumu Ndongo
            - Silanga
            - Raila
            - Makongeni
            - Gatwekera
            other: true

        -   label: Language interview conducted in
            type: options
            options:
            - English
            - Kiswahili
            - Luo
            other: true

##########################################################################
-   title: Informed Consent
    static: |
        Good morning/afternoon. My name is ($user). I am from Shining Hope for Communities,
        an organization that offers health and education programs and services for Kibera and
        Mathare residents.  We are conducting a survey of the people who live in this
        community and therefore your household has been randomly selected to participate
        in this study.

        I will ask you questions about the people living in your house: their health,
        relationships, work, education, their use of health and social services during the
        past year.

        Your participation to this survey is completely voluntary and your answers will remain
        confidential. If you have any questions or complaints about this interview please
        contact the Research Manager, Solomon Odero at 0707080734


##########################################################################
-   title: Preliminary Questions
    numbered: true
    questions:
        -   label: "Have you ever participated in SHOFCO services (Kibera School for Girls, JJJ Clinic, SHOFCO Clean Water, SHOFCO Community centers)?"
            type: yesNo
            endSurveyWhen: ($value) == 'Yes'
            subs:
            -   label: Which SHOFCO Programs have you and/or your children participated in/utilized?
                type: checkboxes
                when: ($parent) == 'Yes'
                options:
                - JJJ Clinic
                - SHOFCO Clean Water Kiosk
                - Kibera School for Girls
                - "GS&L"
                - Urban Movement
                - Youth Programs
                - SWEP
                - Gender Department
                - Cyber Café
                - Community Library
                - SHOFCO Daycare
            -   label: Have you ever read the Ghetto Mirror?
                when: ($parent) == 'Yes'
                type: yesNo

        -   label: "Are you [any of present household members] interested in participating in this survey?"
            type: yesNo
            endSurveyWhen: ($value) == 'No'

        -   label: How many participating household members are above 18?
            type: number
            instructions: |
                Ask for IDs or DOB.
            endSurveyWhen: ($value) == 0
            subs:
            -    label: "Assign each person a number, starting with 1. Choose the below number as your participant."
                 when: ($parent) > 1
                 type: random
                 min: 1
                 max: ($parent)

        -   label: Does the respondent agree to participate?
            type: yesNo
            endSurveyWhen: ($value) == 'No'

        -   label: I certify that I have read the above consent procedure to the participant
            type: signature


##########################################################################
-   title: General Instructions For Interviewer
    static: |
        1. All the italic writings and bold are instructions for the interviewer to check, don’t read them aloud.
        
        2. All bold, not italic are to be read out for the respondents.
        
        3. If the respondent is not ready to respond or uncomfortable with the question, skip the question.
        
        4. If the respondent’s answer is not included in the answer choices, please include their answer in the “Other” answer space.


##########################################################################
-   title: Demographic Information
    static: "First I’d like to ask you some general questions about you and your family."
    questions:
    -   label: Gender of Respondent
        type: options
        instructions: (Observe)
        referenceAs: gender
        options:
        - Male
        - Female

    -   label: How old are you? (number of years)
        type: number
        min: 18 # TODO: support this!

    -   label: What is your marital status?
        type: options
        referenceAs: maritalStatus
        options:
        - Married
        - Not married
        - Divorced
        - Widowed
        - Separated

    -   label: Do you have children?
        type: yesNo
        subs:
        -   label: How many children do you have?
            when: ($parent) == 'Yes'
            type: number

    -   label: How many siblings do you have?
        type: number

    -   label: Is your mother living?
        type: yesNo

    -   label: Is your father living?
        type: yesNo

    -   label: Were you born in Kibera?
        type: yesNo
        subs:
        -   label: What year did you move to Kibera?
            when: ($parent) == 'No'
            type: number


##########################################################################
-   title: Economic
    static: |
        Now I would like to ask you some questions about your household, your
        monthly expenses and income.
    questions:
    -   label: How many of the following items does your household currently own?
        instructions: |
            Answer should be number of Items owned (If the household owns 2 Radios then 2 should written in
            the “Total in the household” column. If they do not own an item then 0 should be written in the
            “Total in the household” column.
        type: table
        keyLabel: Item
        valueLabel: Total in the household
        valueType: number
        keys:
        - Radio
        - Television
        - Sofa
        - Chairs
        - Table
        - Mobile phone
        - Mattress
    
    -   label: Do you have enough of the following items for every member of the household?
        type: checkboxes
        options:
        - Cutlery
        - Gum Boots
        - Jacket
        noneOfTheAbove: true
    
    -   label: "In the last month, how much did you spend on:"
        instructions: |
            If the respondent is unsure of how much they spend, probe further (e.g. How many times in a week
            do you purchase water and how much do you usually spend when you purchase water? From there you can
            estimate monthly use. Confirm that the monthly amount makes sense to the respondent.
        type: table
        keyLabel: Expense
        valueLabel: Amount of money household spent in Ksh
        valueType: number
        keys:
        - Food
        - Water
        - Toilet Use
        - Healthcare (Medical bills)
        - Transportation
        - Cell Phone Credit / Expense
        - "Fuel (e.g. Charcoal, Kerosene, Gas, Firewood)"
        - Rent
        - Electricity
        
    -   label: "How do you cover your monthly expenses (include all sources of incomes, including loans, money borrowed, etc)?"
        instructions: |
            Probe for more answers, especially if their listed income is much less than their reported expenses.
        type: text
        rows: 4
        
    -   label: Do you have savings?
        type: yesNo
        subs:
        -   label: How much do you save generally per month?
            when: ($parent) == 'Yes'
            type: number
        -   label: Why are you not able to save?
            when: ($parent) == 'No'
            type: text
            rows: 3
    
    -   label: Do you have a bank account?
        type: yesNo
    
    -   label: Are you currently employed?
        type: yesNo
        subs:
        -   label: Do you think you have the training necessary for you to find employment that you want?
            when: ($parent) == 'No'
            type: yesNo
            subs:
            -   label: What is preventing you from getting the necessary training?
                when: ($parent) == 'No'
                type: options
                options:
                - Lack of money
                - Short time
                - Spouse doesn't approve
                other: true
            -   label: What is preventing you from getting a job?
                when: ($parent) == 'Yes'
                type: text
                rows: 3


##########################################################################
-   title: Economic
    questions:
    -   label: How many rooms are in your house?
        instructions: Interviewer can answer by observation
        type: number
    
    -   label: How many people live in your house?
        instructions: "(If the number given doesn’t match the family chart, please ask clarifying questions)"
        type: number
    
    -   label: What source of energy do you use to cook?
        instructions: Check all that apply
        type: checkboxes
        options:
        - Wood
        - Carbon / charcoal
        - Electricity / gas
        - Kerosene
        other: true
        
    -   label: Where do you cook?
        instructions: Check all that apply
        type: checkboxes
        options:
        - Outside
        - Inside house in a room with a window
        - Inside house in an enclosed space with no window
        - In separate kitchen room with window
        - In separate kitchen room without window
        other: true
        
    -   label: How do you dispose of your garbage?
        instructions: Check all that apply
        type: options
        options:
        - Throw onto your own land/lot
        - Thrown into a Drain or ditch
        - Left in the open
        - Burned
        - Paid people to Pick-up
        other: true
        

##########################################################################
-   title: "Health & Medical Care"
    static: |
        Now I’d like to ask you some questions about your life and health. Some of these
        questions are very personal. I would like to remind you that all of your answers will
        be kept completely anonymous.
    
    questions:
    -   label: When was the last time you or someone in your family needed medical care?
        type: options
        options:
        - This week
        - Last Week
        - This Month
        - In the past 2 months
        - In the past 6 months
        - In the past year
        - More than a year ago
        - More than 2 years ago
        
    -   label: What was the reason?
        type: text
        rows: 2
        
    -   label: Where do you usually receive medical care?
        type: options
        options:
        - CDC
        - MSF
        - JJJ (SHOFCO) Clinic
        - AMREF
        - Langata District Hospital
        - St. Mary’s Hospital
        - Mbagathi District Hospital
        other: true
        
    -   label: How many times in the past 3 months has someone in your household been treated for diarrhea?
        type: options
        options:
        - Zero
        - Once
        - Twice
        - Thrice
        - Four times
        - Five times
        - More than Five times
        subs:
        -   label: What treatment did you use (Check all that apply)
            when: ($parent) != 'Zero'
            type: checkboxes
            options:
            - Purchased Oral rehydration salts from Chemist
            - Purchased Zinc from a Chemist
            - Purchased Antibiotics from the Chemist
            - Went to clinic or hospital
            - Changed their food/water
            - Waited and it went away on its own
            other: true
        -   label: "To your knowledge, state the main causes of diarrhea"
            when: ($parent) != 'Zero'
            type: text
            rows: 3
            
    -   label: Do you know anyone living with HIV?
        type: yesNo
        
    -   label: "If a member of your family became infected with HIV, would you want to keep it a secret?"
        type: options
        options:
        - Yes
        - No
        - Not Sure
        
    -   label: Do you think those who are HIV+ should declare their status to family members or public?
        type: options
        options:
        - Yes
        - No
        - Not Sure
        
    -   label: Have you ever been tested for HIV? 
        type: yesNo
        subs:
        -   label: Wen was the last time you were tested?
            when: ($parent) == 'Yes'
            type: options
            options:
            - Past Month
            - Past 3 months
            - Past 6 months
            - Past year
            - Past 2 years
            - More than 2 years ago
            - Can’t remember


##########################################################################
-   title: "Water & Sanitation"
    static: Now I’d like to ask you some questions about you and your household’s access to water and sanitation. 
    questions:
    -   label: Where do you get your drinking water?
        type: options
        options:
        - Tap
        - River
        - SHOFCO Clean Water Kiosk
        other: true

    -   label: "Do you use the same water source for drinking as you do for other purposes, such as cooking or washing?"
        type: yesNo 
        
    -   label: "How long does it take you to get to your drinking water source, get water, and come back?"
        type: options
        options:
        - Less than 5 minutes 
        - 5-10 minutes
        - 10-30 minutes
        - 30-60 minutes
        - More than an hour
        
    -   label: How often do you treat your drinking water?
        type: options
        options:
        - Never
        - Rarely
        - Occasionally
        - Often
        - Always
        subs:
        -   label: What water treatment methods do you use?
            when: ($parent) != 'Never'
            type: checkboxes
            options:
            - Boiling
            - Chlorine
            - SODIS
            - Filtration
            other: true

    -   label: How often do you clean your jerycan with soap and water?
        type: options
        options:
        - Daily
        - Twice a week
        - Weekly
        - Monthly
        - Never
        
    -   label: What type of container do you use to store your drinking water?
        type: checkboxes
        options:
        - Plastic Jerrican
        - Open plastic pail or bowl
        - Traditional  clay pot
        - Plastic Dispenser Container
        other: true
        
    -   label: Do you store your drinking water in a container with a lid?
        type: yesNo
        
    -   label: On average, how long would you store drinking water?
        type: options
        options:
        - Half a day
        - 1 Day
        - 2 Days
        - 3 Days
        - 4 or more days
        
    -   label: What kind of toilet facility do members of your household use?
        type: checkboxes
        options:
        - Pit latrine with concrete slab 
        - Pit latrine without concrete slab
        - Biolatrine
        - Bucket
        other: true
        noneOfTheAbove: true
        
    -   label: How would you rate the average cleanliness of your toilet facility?
        type: options
        options:
        - Very clean
        - Clean
        - Just okay
        - Dirty
        - Very Dirty
        
    # TODO: link to previous question
    -   label: "If there is a child under 5 in the house: How do you dispose the stool for your young ones under the age of 5?"
        type: options
        options:
        - Child used Toilet/Latrine
        - Put into toilet/latrine
        - Put/Rinsed into drain or ditch
        - Thrown into Garbage
        - Left in Open
        - No children under 5 in house
        other: true
        
    -   label: When do members of your household wash their hands (check all that apply)? 
        type: checkboxes
        options:
        - After work
        - Before/After eating
        - After using the bathroom
        - Before cooking
        - After helping infants use the bathroom
        other: true
        
    -   label: What method do members of your household most often use to wash their hands?
        type: options
        options:
        - With a cloth
        - With water
        - With soap and water
        other: true


##########################################################################
-   title: Female respondents
    when: (gender) == 'Female'
    questions:
    -   label: Have you ever given birth? # TODO: and/or are you currently pregnant?
        referenceAs: hasGivenBirth
        type: yesNo

        
##########################################################################
-   title: Female respondents with children
    when: (hasGivenBirth) == 'Yes'
    questions:
    -   label: How many times have  you given birth?
        type: number
        
    -   label: How many of your children are currently living?
        type: number
    
    -   label: Are you currently expecting a baby?
        type: yesNo
    
    -   label: How old were you the first time you gave birth?
        type: number
        
    -   label: Would you say that your last or current pregnancy began...
        type: options
        options:
        - Before I intended
        - When I intended
        - After I intended
        - I did not intend to get pregnant
        - I don’t know
        
    -   label: "During your last/current pregnancy, when did you first visit a medical facility for your pregnancy?"
        type: options
        options:
        - 0-2 months
        - 2-4 months
        - 4-6 months
        - 6 -8 months
        - 8+ months
        - Not at all
        subs:
        -   label: How many times during your last pregnancy did you visit a medical facility (prior to giving birth)?
            when: ($parent) != 'Not at all'
            type: options
            options: 
            - 1-2 times
            - 3-4 times
            - 5-6 times
            - 7+ times
    
    -   label: Where did you give birth to your last child?
        type: options
        options:
        - Government Hospital
        - Private Medical Centre
        - Informal Medical Centre
        - In my house
        - In the house of a relative/friend
        other: true
        

##########################################################################
-   title: All Female Respondents
    static: Now I would like to talk about family planning - the various ways or methods that a couple can use to delay or avoid a pregnancy.
    when: (gender) == 'Female'
    questions:
    -   label: What family planning methods do you know about?
        instructions: Ask respondent to verbally list all the family planning methods they know and check all that apply
        type: checkboxes
        options: 
        - Pills/Tablets
        - Injectables
        - Implants
        - IUD
        - Diaphragm/Foam/Jelly
        - Female sterilization
        - Male sterilization
        - Condoms
        - “Safe days”
        - Withdrawal
        - Herbs
        other: true
        noneOfTheAbove: true
        
    -   label: Have you EVER used any of the following to prevent or delay pregnancy?
        instructions: Read options out loud
        type: checkboxes
        referenceAs: familyPlanningMethods
        options:
        - Pills / Tablets
        - Injectables
        - Implants
        - IUD
        - Diaphragm / Foam / Jelly
        - Female sterilization
        - Male sterilization
        - Condoms
        - “Safe days”
        - Withdrawal
        - Herbs
        other: true
        noneOfTheAbove: true
        subs:
        -   label: How do you prevent unwanted pregnancies?
            when: ($parent:countCheckboxes) == 0
            type: text
            rows: 3
            # TODO: would any responses here be considered family planning strategies
            # for enabling the next section?
            
##########################################################################
-   title: Female Respondents That Have Used Family Planning Only
    when: (familyPlanningMethods:countCheckboxes) > 0
    questions:
    -   label: Are you CURRENTLY using any of the following to prevent or delay pregnancy?
        type: checkboxes
        options:
        - Pills / Tablets
        - Injectables
        - Implants
        - IUD
        - Diaphragm / Foam / Jelly
        - Female sterilization
        - Male sterilization
        - Condoms
        - “Safe days”
        - Withdrawal
        - Herbs
        other: true
        noneOfTheAbove: true
    
    -   label: Why do/did you want to delay or avoid getting pregnant (check all that apply)?
        type: checkboxes
        options:
        - Not ready to have children
        - To provide space/intervals between children
        - Can’t/Couldn’t afford another child
        other: true
    
    -   label: "Would you say that using contraceptive is mainly your decision, mainly your husband’s/partner’s decision, or did you both decide together? (DHS)"
        type: options
        options:
        - Mainly respondent’s decision
        - Mainly husband/partner
        - Joint decision with husband/partner
        other: true
    
    -   label: "Does your husband/partner know that you are using family planning? (DHS)"
        when: (maritalStatus) == 'Married'
        type: options
        options:
        - "Yes"
        - "No"
        - Don't Know
        subs:
        -   label: Does your husband/partner approve of you using family planning?
            when: ($parent) == 'Yes'
            type: options
            options:
            - Approves
            - Disapproves
            - I don't know his opinion


##########################################################################
-   title: Domestic Violence
    static: |
        When two people live together, they usually share good and bad moments.
        I would now like to ask you some questions about your current and past relationships.
        If anyone interrupts us I will change the topic of conversation. I would again like to
        assure you that your answers will be kept in secret, and that you do not have to answer
        questions that you do not want to. May I continue?
        
        Does / did your (current / last) husband / partner ever:
    when: (gender) == 'Female'
    questions:
    -   label: "Push you, shake you, or throw something at you?"
        type: yesNo
        specialSub: frequency
    -   label: Slap you?
        type: yesNo
        specialSub: frequency
    -   label: Twist your arm or pull your hair?
        type: yesNo
        specialSub: frequency
    -   label: Punch you with his fist or with something that could hurt you?
        type: yesNo
        specialSub: frequency
    -   label: Kick you or drag you or beat you up?
        type: yesNo
        specialSub: frequency
    -   label: Try to choke you or burn you on purpose?
        type: yesNo
        specialSub: frequency
    -   label: "Threaten or attack you with a knife, gun, or any other weapon?"
        type: yesNo
        specialSub: frequency
    -   label: Physically force you to have sexual intercourse even when you did not want to?
        type: yesNo
        specialSub: frequency
    -   label: Force you to perform any sexual acts you did not want to?
        type: yesNo
        specialSub: frequency
    -   label: Say or do something to humiliate you in front of others?
        type: yesNo
        specialSub: frequency
    -   label: Threaten to hurt or harm you or someone close to you?
        type: yesNo
        specialSub: frequency
    -   label: Insult you or make you feel bad about yourself?
        type: yesNo
        specialSub: frequency
